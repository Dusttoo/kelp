{"ast":null,"code":"const LOAD_ONE_BIZ = 'business/loadOneBiz';\nconst LOAD_ONE_PHOTO = 'business/loadOnePhoto';\n\nconst loadOneBusiness = oneBusiness => ({\n  type: LOAD_ONE_BIZ,\n  oneBusiness\n});\n\nconst loadOnePhoto = onePhoto => ({\n  type: LOAD_ONE_PHOTO,\n  onePhoto\n});\n\nexport const getOneBusiness = id => async dispatch => {\n  const response = await fetch(`/api/businesses/${id}`);\n  const {\n    business\n  } = await response.json();\n  dispatch(loadOneBusiness(business));\n  return response;\n};\nexport const getOnePhoto = id => async dispatch => {\n  const response = await fetch(`/api/businesses/${id}/photos`);\n  const {\n    photos\n  } = await response.json();\n  console.log(\"THIS IS THE RESPONSE: \", photos);\n  dispatch(loadOnePhoto(photos));\n  return response;\n};\nconst initialState = {};\n\nconst oneBusinessReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_ONE_BIZ:\n      console.log(\"ACTION ONE BIZ: \", action.oneBusiness);\n      newState[action.oneBusiness.id] = action.oneBusiness;\n      return newState;\n\n    case LOAD_ONE_PHOTO:\n      console.log(\"ACTION ONE PHOTO: \", action.onePhoto);\n      newState = { ...state\n      };\n      action.photos.forEach(photo => {\n        photoState[photo.id] = photo;\n      });\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default oneBusinessReducer;","map":{"version":3,"sources":["/Users/dusty/kelp/frontend/src/store/businessPage.js"],"names":["LOAD_ONE_BIZ","LOAD_ONE_PHOTO","loadOneBusiness","oneBusiness","type","loadOnePhoto","onePhoto","getOneBusiness","id","dispatch","response","fetch","business","json","getOnePhoto","photos","console","log","initialState","oneBusinessReducer","state","action","newState","forEach","photo","photoState"],"mappings":"AAAA,MAAMA,YAAY,GAAG,qBAArB;AACA,MAAMC,cAAc,GAAG,uBAAvB;;AAEA,MAAMC,eAAe,GAAIC,WAAD,KAAkB;AACxCC,EAAAA,IAAI,EAAEJ,YADkC;AAExCG,EAAAA;AAFwC,CAAlB,CAAxB;;AAKA,MAAME,YAAY,GAAIC,QAAD,KAAe;AAClCF,EAAAA,IAAI,EAAEH,cAD4B;AAElCK,EAAAA;AAFkC,CAAf,CAArB;;AAKA,OAAO,MAAMC,cAAc,GAAIC,EAAD,IAAQ,MAAOC,QAAP,IAAoB;AACxD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mBAAkBH,EAAG,EAAvB,CAA5B;AACA,QAAM;AAACI,IAAAA;AAAD,MAAa,MAAMF,QAAQ,CAACG,IAAT,EAAzB;AAEAJ,EAAAA,QAAQ,CAACP,eAAe,CAACU,QAAD,CAAhB,CAAR;AACA,SAAQF,QAAR;AAED,CAPM;AASP,OAAO,MAAMI,WAAW,GAAIN,EAAD,IAAQ,MAAOC,QAAP,IAAoB;AACrD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mBAAkBH,EAAG,SAAvB,CAA5B;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAa,MAAML,QAAQ,CAACG,IAAT,EAAzB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,MAAtC;AAEAN,EAAAA,QAAQ,CAACJ,YAAY,CAACU,MAAD,CAAb,CAAR;AACA,SAAQL,QAAR;AAED,CARM;AAUP,MAAMQ,YAAY,GAAG,EAArB;;AAEA,MAAMC,kBAAkB,GAAG,CAACC,KAAK,GAAGF,YAAT,EAAuBG,MAAvB,KAAkC;AAE3D,UAAQA,MAAM,CAACjB,IAAf;AACE,SAAKJ,YAAL;AACIgB,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BI,MAAM,CAAClB,WAAtC;AACAmB,MAAAA,QAAQ,CAACD,MAAM,CAAClB,WAAP,CAAmBK,EAApB,CAAR,GAAkCa,MAAM,CAAClB,WAAzC;AACF,aAAOmB,QAAP;;AACF,SAAKrB,cAAL;AACIe,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCI,MAAM,CAACf,QAAxC;AACAgB,MAAAA,QAAQ,GAAG,EAAE,GAAGF;AAAL,OAAX;AACFC,MAAAA,MAAM,CAACN,MAAP,CAAcQ,OAAd,CAAsBC,KAAK,IAAI;AAC7BC,QAAAA,UAAU,CAACD,KAAK,CAAChB,EAAP,CAAV,GAAuBgB,KAAvB;AACD,OAFD;AAGA,aAAOF,QAAP;;AACF;AACE,aAAOF,KAAP;AAbJ;AAeD,CAjBD;;AAmBA,eAAeD,kBAAf","sourcesContent":["const LOAD_ONE_BIZ = 'business/loadOneBiz';\nconst LOAD_ONE_PHOTO = 'business/loadOnePhoto';\n\nconst loadOneBusiness = (oneBusiness) => ({\n  type: LOAD_ONE_BIZ,\n  oneBusiness,\n})\n\nconst loadOnePhoto = (onePhoto) => ({\n  type: LOAD_ONE_PHOTO,\n  onePhoto,\n})\n\nexport const getOneBusiness = (id) => async (dispatch) => {\n  const response = await fetch(`/api/businesses/${id}`)\n  const {business} = await response.json();\n\n  dispatch(loadOneBusiness(business));\n  return (response)\n\n}\n\nexport const getOnePhoto = (id) => async (dispatch) => {\n  const response = await fetch(`/api/businesses/${id}/photos`)\n  const { photos } = await response.json();\n  console.log(\"THIS IS THE RESPONSE: \", photos)\n\n  dispatch(loadOnePhoto(photos));\n  return (response)\n\n}\n\nconst initialState = {};\n\nconst oneBusinessReducer = (state = initialState, action) => {\n    \n  switch (action.type) {\n    case LOAD_ONE_BIZ:\n        console.log(\"ACTION ONE BIZ: \",action.oneBusiness)\n        newState[action.oneBusiness.id] = action.oneBusiness;\n      return newState;\n    case LOAD_ONE_PHOTO:\n        console.log(\"ACTION ONE PHOTO: \",action.onePhoto)\n        newState = { ...state };\n      action.photos.forEach(photo => {\n        photoState[photo.id] = photo;\n      });\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default oneBusinessReducer;"]},"metadata":{},"sourceType":"module"}