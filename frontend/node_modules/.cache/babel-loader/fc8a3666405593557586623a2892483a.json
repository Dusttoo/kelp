{"ast":null,"code":"const LOAD_ONE_BIZ = 'business/loadOneBiz'; // const LOAD_ONE_PHOTO = 'business/loadOnePhoto';\n\nconst loadOneBusiness = oneBusiness => ({\n  type: LOAD_ONE_BIZ,\n  oneBusiness\n}); // export const loadOnePhoto = (onePhoto) => ({\n//   type: LOAD_ONE_PHOTO,\n//   onePhoto,\n// })\n\n\nexport const getOneBusiness = id => async dispatch => {\n  const response = await fetch(`/api/businesses/${id}`);\n  const {\n    business\n  } = await response.json();\n  dispatch(loadOneBusiness(business));\n  return {\n    business\n  };\n}; // export const getOnePhoto = (id) => async (dispatch) => {\n//   const response = await fetch(`/api/businesses/${id}/photos`)\n//   const  {photos}  = await response.json();\n//   dispatch(loadOnePhoto(photos));\n//   return ({photos})\n// }\n\nconst initialState = {};\n\nconst oneBusinessReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_ONE_BIZ:\n      const newState = { ...state\n      };\n      newState[action.oneBusiness.id] = action.oneBusiness;\n      return newState;\n\n    case LOAD_ONE_PHOTO:\n      const newPhotoState = { ...state\n      };\n      action.onePhoto.forEach(photo => {\n        newPhotoState[photo] = photo;\n      });\n      return newPhotoState;\n\n    default:\n      return state;\n  }\n};\n\nexport default oneBusinessReducer;","map":{"version":3,"sources":["/Users/dusty/kelp/frontend/src/store/businessPage.js"],"names":["LOAD_ONE_BIZ","loadOneBusiness","oneBusiness","type","getOneBusiness","id","dispatch","response","fetch","business","json","initialState","oneBusinessReducer","state","action","newState","LOAD_ONE_PHOTO","newPhotoState","onePhoto","forEach","photo"],"mappings":"AAAA,MAAMA,YAAY,GAAG,qBAArB,C,CACA;;AAEA,MAAMC,eAAe,GAAIC,WAAD,KAAkB;AACxCC,EAAAA,IAAI,EAAEH,YADkC;AAExCE,EAAAA;AAFwC,CAAlB,CAAxB,C,CAKA;AACA;AACA;AACA;;;AAEA,OAAO,MAAME,cAAc,GAAIC,EAAD,IAAQ,MAAOC,QAAP,IAAoB;AACxD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mBAAkBH,EAAG,EAAvB,CAA5B;AACA,QAAM;AAACI,IAAAA;AAAD,MAAa,MAAMF,QAAQ,CAACG,IAAT,EAAzB;AAEAJ,EAAAA,QAAQ,CAACL,eAAe,CAACQ,QAAD,CAAhB,CAAR;AACA,SAAQ;AAACA,IAAAA;AAAD,GAAR;AAED,CAPM,C,CASP;AACA;AAEA;AACA;AACA;AAEA;;AAEA,MAAME,YAAY,GAAG,EAArB;;AAEA,MAAMC,kBAAkB,GAAG,CAACC,KAAK,GAAGF,YAAT,EAAuBG,MAAvB,KAAkC;AAE3D,UAAQA,MAAM,CAACX,IAAf;AACE,SAAKH,YAAL;AACI,YAAMe,QAAQ,GAAG,EAAE,GAAGF;AAAL,OAAjB;AACAE,MAAAA,QAAQ,CAACD,MAAM,CAACZ,WAAP,CAAmBG,EAApB,CAAR,GAAkCS,MAAM,CAACZ,WAAzC;AACF,aAAOa,QAAP;;AACF,SAAKC,cAAL;AACI,YAAMC,aAAa,GAAG,EAAE,GAAGJ;AAAL,OAAtB;AACAC,MAAAA,MAAM,CAACI,QAAP,CAAgBC,OAAhB,CAAwBC,KAAK,IAAI;AAC7BH,QAAAA,aAAa,CAACG,KAAD,CAAb,GAAuBA,KAAvB;AACH,OAFD;AAGF,aAAOH,aAAP;;AACF;AACE,aAAOJ,KAAP;AAZJ;AAcD,CAhBD;;AAkBA,eAAeD,kBAAf","sourcesContent":["const LOAD_ONE_BIZ = 'business/loadOneBiz';\n// const LOAD_ONE_PHOTO = 'business/loadOnePhoto';\n\nconst loadOneBusiness = (oneBusiness) => ({\n  type: LOAD_ONE_BIZ,\n  oneBusiness,\n})\n\n// export const loadOnePhoto = (onePhoto) => ({\n//   type: LOAD_ONE_PHOTO,\n//   onePhoto,\n// })\n\nexport const getOneBusiness = (id) => async (dispatch) => {\n  const response = await fetch(`/api/businesses/${id}`)\n  const {business} = await response.json();\n\n  dispatch(loadOneBusiness(business));\n  return ({business})\n\n}\n\n// export const getOnePhoto = (id) => async (dispatch) => {\n//   const response = await fetch(`/api/businesses/${id}/photos`)\n  \n//   const  {photos}  = await response.json();\n//   dispatch(loadOnePhoto(photos));\n//   return ({photos})\n\n// }\n\nconst initialState = {};\n\nconst oneBusinessReducer = (state = initialState, action) => {\n    \n  switch (action.type) {\n    case LOAD_ONE_BIZ:\n        const newState = { ...state };\n        newState[action.oneBusiness.id] = action.oneBusiness;\n      return newState;\n    case LOAD_ONE_PHOTO:\n        const newPhotoState = { ...state };\n        action.onePhoto.forEach(photo => {\n            newPhotoState[photo] = photo;\n        });\n      return newPhotoState;\n    default:\n      return state;\n  }\n};\n\nexport default oneBusinessReducer;"]},"metadata":{},"sourceType":"module"}