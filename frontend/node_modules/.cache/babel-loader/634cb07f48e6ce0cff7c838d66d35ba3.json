{"ast":null,"code":"import _slicedToArray from\"/Users/dusty/kelp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useDispatch}from'react-redux';import*as sessionActions from'../../store/session';import'./Navigation.css';//need to do fetch requet to get first ad last name\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileButton(_ref){var user=_ref.user;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var openMenu=function openMenu(){if(showMenu)return;setShowMenu(true);};useEffect(function(){if(!showMenu)return;var closeMenu=function closeMenu(){setShowMenu(false);};document.addEventListener('click',closeMenu);return function(){return document.removeEventListener(\"click\",closeMenu);};},[showMenu]);var logout=function logout(e){e.preventDefault();dispatch(sessionActions.logout());};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"account-menu\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:openMenu,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-solid fa-user account-icon\"})}),showMenu&&/*#__PURE__*/_jsxs(\"ul\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Hello, \".concat(user.firstName,\" \").concat(user.lastName)}),/*#__PURE__*/_jsx(\"li\",{children:user.email}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"logOut\",children:\"Log Out\"})]})]})});}export default ProfileButton;","map":{"version":3,"sources":["/Users/dusty/kelp/frontend/src/components/Navigation/ProfileButton.js"],"names":["React","useState","useEffect","useDispatch","sessionActions","ProfileButton","user","dispatch","showMenu","setShowMenu","openMenu","closeMenu","document","addEventListener","removeEventListener","logout","e","preventDefault","firstName","lastName","email"],"mappings":"6GAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,qBAAhC,CACA,MAAO,kBAAP,CAEA;6IAEA,QAASC,CAAAA,aAAT,MAAiC,IAARC,CAAAA,IAAQ,MAARA,IAAQ,CAC/B,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,cAAgCF,QAAQ,CAAC,KAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAIF,QAAJ,CAAc,OACdC,WAAW,CAAC,IAAD,CAAX,CACD,CAHD,CAKAP,SAAS,CAAC,UAAM,CACd,GAAI,CAACM,QAAL,CAAe,OAEf,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBF,WAAW,CAAC,KAAD,CAAX,CACD,CAFD,CAIAG,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCF,SAAnC,EAEA,MAAO,kBAAMC,CAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,CAAsCH,SAAtC,CAAN,EAAP,CACD,CAVQ,CAUN,CAACH,QAAD,CAVM,CAAT,CAYA,GAAMO,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACAV,QAAQ,CAACH,cAAc,CAACW,MAAf,EAAD,CAAR,CACD,CAHD,CAKA,mBACE,sCACE,aAAK,SAAS,CAAC,cAAf,wBACE,eAAQ,OAAO,CAAEL,QAAjB,uBACE,UAAG,SAAS,CAAC,mCAAb,EADF,EADF,CAIGF,QAAQ,eACP,YAAI,SAAS,CAAC,kBAAd,wBACE,qCAAeF,IAAI,CAACY,SAApB,aAAiCZ,IAAI,CAACa,QAAtC,GADF,cAEE,oBAAKb,IAAI,CAACc,KAAV,EAFF,cAGI,eAAQ,OAAO,CAAEL,MAAjB,CAAyB,SAAS,CAAC,QAAnC,qBAHJ,GALJ,GADF,EADF,CAgBD,CAED,cAAeV,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport * as sessionActions from '../../store/session';\nimport './Navigation.css'\n\n//need to do fetch requet to get first ad last name\n\nfunction ProfileButton({ user }) {\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n  \n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n  \n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = () => {\n      setShowMenu(false);\n    };\n\n    document.addEventListener('click', closeMenu);\n  \n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n  const logout = (e) => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n  };\n\n  return (\n    <>\n      <div className=\"account-menu\">\n        <button onClick={openMenu}>\n          <i className=\"fas fa-solid fa-user account-icon\" />\n        </button>\n        {showMenu && (\n          <ul className=\"profile-dropdown\">\n            <li>{`Hello, ${user.firstName} ${user.lastName}`}</li>\n            <li>{user.email}</li>\n              <button onClick={logout} className=\"logOut\">Log Out</button>\n          </ul>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default ProfileButton;"]},"metadata":{},"sourceType":"module"}