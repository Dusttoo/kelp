{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dusty/kelp/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dusty/kelp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dusty/kelp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Redirect,Link}from\"react-router-dom\";import*as sessionActions from\"../../store/session\";import'./SignupFormPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SignupFormPage(){var dispatch=useDispatch();var sessionUser=useSelector(function(state){return state.session.user;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),profileImg=_useState8[0],setProfileImg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),confirmPassword=_useState12[0],setConfirmPassword=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];if(sessionUser)return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});var handleSubmit=function handleSubmit(e){e.preventDefault();if(password===confirmPassword){setErrors([]);return dispatch(sessionActions.signup({email:email,firstName:firstName,lastName:lastName,profileImg:profileImg,password:password})).catch(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return res.json();case 2:data=_context.sent;if(data&&data.errors)setErrors(data.errors);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}return setErrors(['Confirm Password field must be the same as the Password field']);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"signupForm\",children:[/*#__PURE__*/_jsx(\"ul\",{children:errors.map(function(error,idx){return/*#__PURE__*/_jsx(\"li\",{children:error},idx);})}),/*#__PURE__*/_jsx(\"h1\",{className:\"login-header\",children:\"Sign up for Kelp\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"signupContainer\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"signup-header\",children:\"Already a user?\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"signup-link\",children:\"log in\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"name-fields\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"signup-label firstName\",children:[\"First Name\",/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"text\",value:firstName,onChange:function onChange(e){return setFirstName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"signup-label lastName\",children:[\"Last Name\",/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"text\",value:lastName,onChange:function onChange(e){return setLastName(e.target.value);},required:true})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"signup-label\",children:[\"Email\",/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"signup-label\",children:[\"Profile Image\",/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"text\",value:profileImg,onChange:function onChange(e){return setProfileImg(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"signup-label\",children:[\"Password\",/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"signup-label\",children:[\"Confirm Password\",/*#__PURE__*/_jsx(\"input\",{className:\"signup-input\",type:\"password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"signup-button\",type:\"submit\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{className:\"demo-button\",type:\"submit\",children:\"Demo\"})]})]}),/*#__PURE__*/_jsx(\"img\",{className:\"signupImage\",src:\"https://i.imgur.com/qI2NnYR.png\",alt:\"placeholder\"})]})});}export default SignupFormPage;","map":{"version":3,"sources":["/Users/dusty/kelp/frontend/src/components/SignupFormPage/index.js"],"names":["React","useState","useDispatch","useSelector","Redirect","Link","sessionActions","SignupFormPage","dispatch","sessionUser","state","session","user","email","setEmail","firstName","setFirstName","lastName","setLastName","profileImg","setProfileImg","password","setPassword","confirmPassword","setConfirmPassword","errors","setErrors","handleSubmit","e","preventDefault","signup","catch","res","json","data","map","error","idx","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport * as sessionActions from \"../../store/session\";\nimport './SignupFormPage.css'\n\nfunction SignupFormPage() {\n  const dispatch = useDispatch();\n  const sessionUser = useSelector((state) => state.session.user);\n  const [email, setEmail] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [profileImg, setProfileImg] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  if (sessionUser) return <Redirect to=\"/\" />;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (password === confirmPassword) {\n      setErrors([]);\n      return dispatch(sessionActions.signup({ email, firstName, lastName, profileImg, password }))\n        .catch(async (res) => {\n          const data = await res.json();\n          if (data && data.errors) setErrors(data.errors);\n        });\n    }\n    return setErrors(['Confirm Password field must be the same as the Password field']);\n  };\n\n  return (\n    <>\n            <div className=\"form-container\">\n                <form onSubmit={handleSubmit} className=\"signupForm\">\n                  <ul>\n                    {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n                  </ul>\n                  <h1 className=\"login-header\">Sign up for Kelp</h1>\n                  <div className=\"signupContainer\">\n                  <h3 className=\"signup-header\">Already a user?</h3> \n                  <Link to=\"/login\" className=\"signup-link\">log in</Link>\n                  </div>   \n                  <div className=\"name-fields\">              \n                    <label className=\"signup-label firstName\">\n                      First Name\n                      <input\n                        className=\"signup-input\"\n                        type=\"text\"\n                        value={firstName}\n                        onChange={(e) => setFirstName(e.target.value)}\n                        required\n                      />\n                    </label>\n                    <label className=\"signup-label lastName\">\n                      Last Name\n                      <input\n                        className=\"signup-input\"\n                        type=\"text\"\n                        value={lastName}\n                        onChange={(e) => setLastName(e.target.value)}\n                        required\n                      />\n                    </label>\n                  </div>\n                  <label className=\"signup-label\">\n                    Email\n                    <input \n                      className=\"signup-input\"\n                      type=\"text\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      required\n                    />\n                  </label>\n                  <label className=\"signup-label\">\n                    Profile Image\n                    <input\n                      className=\"signup-input\"\n                      type=\"text\"\n                      value={profileImg}\n                      onChange={(e) => setProfileImg(e.target.value)}\n                      required\n                    />\n                  </label>\n                  <label className=\"signup-label\">\n                    Password\n                    <input\n                      className=\"signup-input\"\n                      type=\"password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      required\n                    />\n                  </label>\n                  <label className=\"signup-label\">\n                    Confirm Password\n                    <input\n                      className=\"signup-input\"\n                      type=\"password\"\n                      value={confirmPassword}\n                      onChange={(e) => setConfirmPassword(e.target.value)}\n                      required\n                    />\n                  </label>\n                  <div className=\"buttons\">\n                    <button className=\"signup-button\" type=\"submit\">Sign Up</button>\n                    <button className=\"demo-button\" type=\"submit\">Demo</button>\n                  </div>\n                </form>\n                <img className=\"signupImage\" src=\"https://i.imgur.com/qI2NnYR.png\" alt=\"placeholder\"></img>\n            </div>\n    </>                \n  );\n}\n\nexport default SignupFormPage;"]},"metadata":{},"sourceType":"module"}