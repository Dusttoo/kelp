{"ast":null,"code":"const LOAD_BUSINESSES = 'businesses/loadBusiness';\n\nconst loadBusiness = businesses => ({\n  type: LOAD_BUSINESSES,\n  businesses\n});\n\nexport const getBusinesses = () => async dispatch => {\n  const response = await fetch('/api/businesses');\n  const businesses = await response.json();\n  dispatch(loadBusiness(businesses));\n  return response;\n};\nexport const initialState = {};\n\nconst businessReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_BUSINESSES:\n      const newState = { ...state\n      };\n      action.businesses.forEach(business => {\n        newState[business.id] = business;\n      });\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default businessReducer;","map":{"version":3,"sources":["/Users/dusty/kelp/frontend/src/store/businesses.js"],"names":["LOAD_BUSINESSES","loadBusiness","businesses","type","getBusinesses","dispatch","response","fetch","json","initialState","businessReducer","state","action","newState","forEach","business","id"],"mappings":"AAAA,MAAMA,eAAe,GAAG,yBAAxB;;AAEA,MAAMC,YAAY,GAAIC,UAAD,KAAiB;AACpCC,EAAAA,IAAI,EAAEH,eAD8B;AAEpCE,EAAAA;AAFoC,CAAjB,CAArB;;AAKA,OAAO,MAAME,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACrD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iBAAD,CAA5B;AACA,QAAML,UAAU,GAAG,MAAMI,QAAQ,CAACE,IAAT,EAAzB;AACAH,EAAAA,QAAQ,CAACJ,YAAY,CAACC,UAAD,CAAb,CAAR;AACA,SAAOI,QAAP;AACD,CALM;AAOP,OAEA,MAAMG,YAAY,GAAG,EAArB;;AAEA,MAAMC,eAAe,GAAG,CAACC,KAAK,GAAGF,YAAT,EAAuBG,MAAvB,KAAkC;AACxD,UAAQA,MAAM,CAACT,IAAf;AACE,SAAKH,eAAL;AACE,YAAMa,QAAQ,GAAG,EAAE,GAAGF;AAAL,OAAjB;AACAC,MAAAA,MAAM,CAACV,UAAP,CAAkBY,OAAlB,CAA0BC,QAAQ,IAAI;AACpCF,QAAAA,QAAQ,CAACE,QAAQ,CAACC,EAAV,CAAR,GAAwBD,QAAxB;AACD,OAFD;AAGA,aAAOF,QAAP;;AACF;AACE,aAAOF,KAAP;AARJ;AAUD,CAXD;;AAaA,eAAeD,eAAf","sourcesContent":["const LOAD_BUSINESSES = 'businesses/loadBusiness';\n\nconst loadBusiness = (businesses) => ({\n  type: LOAD_BUSINESSES,\n  businesses,\n});\n\nexport const getBusinesses = () => async (dispatch) => {\n  const response = await fetch('/api/businesses');\n  const businesses = await response.json();\n  dispatch(loadBusiness(businesses));\n  return response\n};\n\nexport \n\nconst initialState = {};\n\nconst businessReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_BUSINESSES:\n      const newState = { ...state };\n      action.businesses.forEach(business => {\n        newState[business.id] = business;\n      });\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default businessReducer;"]},"metadata":{},"sourceType":"module"}